один из игроков является сервером

алгоритм:
- игрок выбирает присоединится или создать и вбивает айпи, порт, ник и режим игры (продвинутый или обычный)
- при создать - создается листенер и начинает ожидать соединения еще 4 игроков (5 если режим продвинутый)
- при присоединится - присоединяется к существующей игре через сокет
- если все нажали готов и игроков >1 (>2 если режим продвинутый) листенер перестает ожидать игроков и создается класс игры
- все действие происходит на игроке-сервере, все остальные игроки лишь отправляют данные (например, кого хотят убить) и получают реакцию на свое действие
- игра импортирует все нужные карты в списки карт (личности, персонажи и действия).
- все эти карты перетасовываются и добавляются в колоды в нужном количестве
- в центр стола кладутся персонажи (карты персонажа и личности)
- каждому игроку дают по 3 карты действия (в продвинутом режиме дается еще и персонаж)
- игроки тоже перетасовываются и назначается первый игрок
- игра состоит из раундов - обычных и финального
- начинается очередной раунд
- игроки выбирают карту действия и взамен получают еще одну из колоды
- если в колоде действий не осталось карт, то в колоду добавляются карты из сброса
- когда все игроки выбрали карты, игроки от первого из них по порядку выполняют действие
- у каждой карты действия есть соответствующий ему сценарий - убить, подсмотреть личность персонажа, взять карту, добавить нового персонажа и т.д.
- у некоторых персонажей есть реакция на их убийство
- когда все завершили свои действия все эти действия идут в сброс
- первым игроком следующего раунда становится следующий за текущим первым игроком
- на середину стола добавляется новый персонаж
- начинается следующий раунд (если персонажей в колоде нет, то начинается финальный раунд)
- игрок может в любой момент заявить, что все персонажи на середине стола - друзья. если большинство с этим согласны, то игра завершается (поражение игроков-друзей (всех в обычном режиме), если на столе есть паразиты, иначе победа (в продвинутом режиме начинается финальный раунд))
- в обычном режиме финальный раунд такой же как обычный, только персонажей больше нельзя добавлять. если после этого раунда на столе остались паразиты, то вы проиграли.
- в продвинутом режиме в финальном раунде не нужны карты действия. игроки по очереди стреляют в других игроков. если застрелили друга - команда проигрывает. игру можно завершить также по договоренности.

итого нужно реализовать:
- какой-нибудь класс переводчик из игровой логики в ui и наоборот. Например какой-нибудь UIScenario, который либо ожидает действие игрока, либо отправляет в ui реакцию.
- 2 класса игры - для сервера и клиента. Игра клиента лишь имитирует игру сервера. Также класс игра должна иметь разные методы для разных режимов игры.
- классы карт и сценарии к ним
- класс персонажа
- класс игрока
- перетасовка колод и игроков
- класс раунда и метод в нем, ожидающий действия из ui
- класс хода и метод в нем, выполняющий сценарий из карты действия
- метод для принудительного завершения игры